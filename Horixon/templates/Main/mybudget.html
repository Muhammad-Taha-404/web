{% extends "base.html" %}
{% load static %}
{% block title %}
My Budget{% endblock %}
{% block content %}

<div class="max-w-4xl mx-auto my-10 p-5 bg-black rounded-lg shadow-lg">
    <h2 class="text-2xl font-semibold text-gray-700 mb-6">Monthly Budget Breakdown</h2>
    <canvas id="budgetChart"></canvas>
  </div>
<main class="ml-64 mt-15 p-4">
<section class="bg-white dark:bg-gray-900 p-6 rounded-2xl shadow-lg w-full max-w-md">
  <h2 class="text-xl font-semibold text-gray-800 dark:text-white mb-4">Credit Overview</h2>

  <div class="mb-4">
    <div class="text-sm text-gray-500 dark:text-gray-400">Available Credit</div>
    <div class="text-2xl font-bold text-green-600">${{budget.mounthly_in}}</div>
  </div>

  <div class="mb-4">
    <div class="text-sm text-gray-500 dark:text-gray-400">Used Credit</div>
    <div class="text-2xl font-bold text-red-500">${{budget.total}}</div>
  </div>

  <div class="mt-4">
    <div class="text-sm text-gray-500 dark:text-gray-400 mb-1">Usage</div>
    <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3">
      <div class="bg-blue-500 h-3 rounded-full" style="width: {{percent}}%;"></div>
    </div>
    <div class="text-xs text-gray-500 mt-1">{{percent}}% of total credit used</div>
  </div>
</section>
     </main>
  
  <script>
    const ctx = document.getElementById('budgetChart').getContext('2d');
    const budgetChart = new Chart(ctx, {
      type: 'bar',
      data: {
        labels: ['Rent', 'Food', 'Utilities', 'Transportation', 'Entertainment'],
        datasets: [{
          label: 'Budget ($)',
          data: [1200, 400, 150, 100, 200],
          backgroundColor: '#4CAF50',
          borderColor: '#388E3C',
          borderWidth: 1,
        }],
      },
      options: {
        scales: {
          y: {
            beginAtZero: true,
            ticks: {
              stepSize: 50,
            },
          },
        },
        responsive: true,
      },
    });
  </script> </div>{% endblock %}